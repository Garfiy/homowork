<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div id="app">
        <p>methods：</p>
        <input type="text" v-model="methods.num1">
        <select v-model="methods.select">
            <option>+</option>
            <option>-</option>
            <option>*</option>
            <option>/</option>
        </select>
        <input type="text" v-model="methods.num2">
        <button @click="calculate">=</button>
        <span v-text="methods.result1"></span>
        <br>
        <br>

        <p>computed：</p>
        <input type="text" v-model="computed.num1">
        <select v-model="computed.select">
            <option>+</option>
            <option>-</option>
            <option>*</option>
            <option>/</option>
        </select>
        <input type="text" v-model="computed.num2">
        <button @click="computed.result2=sum">=</button>
        <span v-text="computed.result2"></span>
        <br>
        <br>

        <p>watch：</p>
        <input type="text" v-model="watch.num1">
        <select v-model="watch.select">
            <option>+</option>
            <option>-</option>
            <option>*</option>
            <option>/</option>
        </select>
        <input type="text" v-model="watch.num2">
        <button @click="watch.result3=result">=</button>
        <span v-text="watch.result3"></span>
    </div>

    <br>
    <div style="color: red;">
        <ol>
            <li>computed 和 watch 模式应该直接不点等于号就显示答案</li>
        </ol>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script>
        new Vue({
            el: '#app',
            data: {
                methods: {
                    num1: '',
                    num2: '',
                    select: '+',
                    result1: ''
                },
                computed: {
                    num1: '',
                    num2: '',
                    select: '+',
                    result2: ''
                },
                watch: {
                    num1: null,
                    num2: null,
                    select: '+',
                    result3: ''
                },
                result: ''
            },
            methods: {
                calculate: function () {
                    let select = this.methods.select;
                    let num1 = parseInt(this.methods.num1);
                    let num2 = parseInt(this.methods.num2);
                    let result1 = this.methods.result1;
                    switch (select) {
                        case '+':
                            result1 = num1 + num2;
                            break;
                        case '-':
                            result1 = num1 - num2;
                            break;
                        case '*':
                            result1 = num1 * num2;
                            break;
                        case '/':
                            result1 = num1 / num2;
                            break;
                    }
                    this.methods.result1 = result1;
                }
            },
            computed: {
                sum: function () {
                    let select = this.computed.select;
                    let num1 = parseInt(this.computed.num1);
                    let num2 = parseInt(this.computed.num2);
                    let result2 = 0;
                    switch (select) {
                        case '+':
                            result2 = num1 + num2;
                            break;
                        case '-':
                            result2 = num1 - num2;
                            break;
                        case '*':
                            result2 = num1 * num2;
                            break;
                        case '/':
                            result2 = num1 / num2;
                            break;
                    }
                    return result2;
                }
            },
            watch: {
                watch: {
                    handler: function (val) {
                        let select = val.select;
                        let num1 = parseInt(val.num1);
                        let num2 = parseInt(val.num2);
                        let result3 = this.result;
                        switch (select) {
                            case '+':
                                result3 = num1 + num2;
                                break;
                            case '-':
                                result3 = num1 - num2;
                                break;
                            case '*':
                                result3 = num1 * num2;
                                break;
                            case '/':
                                result3 = num1 / num2;
                                break;
                        }
                        this.result = result3;
                    },
                    deep: true
                }
            }
        })
    </script>
</body>

</html>