<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>简单的计算器</title>
    <style>
        input {
            display: block;
        }

        button {
            width: 30px;
            height: 30px;
        }
    </style>
</head>

<body>
    <p>题目: 实现简单的计算器功能</p>
    <ol>
        <li>对两个数进行加减乘除运算</li>
        <li>通过点击加减乘除按钮 实现对应的加减乘除效果</li>
        <li>点击键盘的清除键(delete) 实现输入内容一键清空</li>
    </ol>
    <input type="number" class="input1">
    <br>
    <input type="number" class="input2">
    <br>
    <button onclick="addition()">+</button>
    <button onclick="subtraction()">-</button>
    <button onclick="multiplication()">*</button>
    <button onclick="divide()">/</button>
    <br>
    <br>
    计算结果:<span class="result"></span>

    <script>
        let input1 = document.querySelector('.input1');
        let input2 = document.querySelector('.input2');
        let div = document.querySelector('.result');

        function compute(e) {
            let num1 = Number(input1.value);
            let num2 = Number(input2.value);
            let result;
            switch (true) {
                case e.code == 'NumpadAdd'://小键盘
                case e.key == '+':
                case e.shiftKey && e.code == 'Equal':
                case e.keyCode == 107://小键盘
                case e.keyCode == 187 && e.shiftKey:
                    //加法计算
                    result = num1 + num2;
                    break;
                case e.code == 'NumpadSubtract'://小键盘
                case e.key == '-':
                case e.code == 'Minus' && !e.shiftKey:
                case e.keyCode == 109://小键盘
                case e.keyCode == 189 && !e.shiftKey:
                    //减法计算
                    result = num1 - num2;
                    break;
                case e.code == 'NumpadMultiply'://小键盘
                case e.key == '*':
                case e.shiftKey && e.code == 'Digit8':
                case e.keyCode == 106://小键盘
                case e.keyCode == 56 && e.shiftKey:
                    //乘法
                    result = num1 * num2;
                    break;
                case e.code = 'NumpadDivide'://小键盘
                case e.code == 'Slash' && !e.shiftKey:
                case e.key == '/':
                case e.keyCode == 111://小键盘
                case e.keyCode == 191 && !e.shiftKey:
                    //除法
                    result = num1 / num2;
                    break;
            }
            if (result != undefined) {
                div.innerHTML = '' + num1 + ' ' + e.key + ' ' + num2 + ' = ' + result;
            }
        }
        document.addEventListener('keyup', function (e) {
            compute(e);
        })
        document.addEventListener('keydown', function (e) {
            switch (true) {
                case e.key == 'Backspace':
                case e.keyCode == 8:
                case e.code == 'Backspace':
                    // if (input1 == document.activeElement) {
                    //     input1.value = '';
                    // }
                    // if (input2 == document.activeElement) {
                    //     input2.value = '';
                    // }
                    break;
            }
        })
        function addition() {
            compute({ key: '+' });
        }
        function subtraction() {
            compute({ key: '-' });
        }
        function multiplication() {
            compute({ key: '*' });
        }
        function divide() {
            compute({ key: '/' });
        }
    </script>
</body>

</html>